{% extends "base/root.html" %} {% block root %}
<div class="text-gray-900 font-sans">
    <div class="max-w-2xl mx-auto p-6 bg-white rounded-2xl shadow-md">
        <h1 class="text-3xl font-bold mb-6 text-center">ðŸ›  Edit Profile</h1>

        <form class="space-y-6" enctype="multipart/form-data" method="POST">
            {% csrf_token %}
            <!-- Profile Image Preview -->
            <div class="flex flex-col items-center">
                {% if user.signup.profile_pic %}
                <img
                    id="previewImage"
                    src="{{ user.signup.profile_pic }}"
                    alt="Profile Image"
                    class="w-28 h-28 rounded-full object-cover border-2 border-gray-300 mb-3 shadow-sm"
                />
                {% else %}
                <img
                    id="previewImage"
                    src="https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png"
                    alt="Profile Image"
                    class="w-28 h-28 rounded-full object-cover border-2 border-gray-300 mb-3 shadow-sm"
                />
                {% endif %}
                <label
                    for="image"
                    class="mb-2 text-sm font-medium text-gray-700"
                    >Change Profile Image</label
                >
                <input
                    type="file"
                    id="image"
                    name="image"
                    accept="image/*"
                    class="file:px-4 file:py-2 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"
                />
            </div>

            <!-- Username -->
            <div>
                <label class="block mb-1 font-medium" for="username"
                    >Username</label
                >
                <input
                    type="text"
                    id="username"
                    name="username"
                    placeholder="your_username"
                    class="w-full px-4 py-2 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400"
                    value={{ user.username }}
                    disabled
                />
            </div>

            <!-- Email -->
            <div>
                <label class="block mb-1 font-medium" for="email">Email</label>
                <input
                    type="email"
                    id="email"
                    name="email"
                    placeholder="you@example.com"
                    class="w-full px-4 py-2 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400"
                    value={{ user.email }}
                    disabled
                />
            </div>

            <!-- First & Last Name -->
            <div class="flex flex-col md:flex-row gap-4">
                <div class="flex-1">
                    <label class="block mb-1 font-medium" for="firstName"
                        >First Name</label
                    >
                    <input
                        type="text"
                        id="firstName"
                        name="first_name"
                        placeholder="John"
                        class="w-full px-4 py-2 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400"
                        value={{user_info.first_name}}
                    />
                </div>
                <div class="flex-1">
                    <label class="block mb-1 font-medium" for="lastName"
                        >Last Name</label
                    >
                    <input
                        type="text"
                        id="lastName"
                        name="last_name"
                        placeholder="Doe"
                        class="w-full px-4 py-2 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400"
                        value={{user_info.last_name}}
                    />
                </div>
            </div>

            <!-- Password -->
            <!-- Change Password Button -->
            <a  href="{% url 'account:change_password' id=user.pk %}"
                class="mt-2 text-sm text-blue-600 hover:underline flex items-center gap-1"
            >
                ðŸ”‘ Change Password
            </a>

            <!-- Save Button -->
            <div class="text-center pt-2">
                <button
                    type="submit"
                    class="cursor-pointer bg-blue-600 text-white px-6 py-2 rounded-xl hover:bg-blue-700 transition"
                >
                    ðŸ’¾ Save Changes
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
